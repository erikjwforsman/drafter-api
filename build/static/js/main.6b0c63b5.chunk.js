(this.webpackJsonpdrafter_app=this.webpackJsonpdrafter_app||[]).push([[0],{3:function(e,n,t){e.exports={App:"AppStyles_App__1aSED",Flexi:"AppStyles_Flexi__3Vfdt",FlexiContent:"AppStyles_FlexiContent__ZgYCP",Top:"AppStyles_Top__MS2gt",SmallScreenLeft:"AppStyles_SmallScreenLeft__2WQzj",SmallScreen:"AppStyles_SmallScreen__3KQ5v",BigScreen:"AppStyles_BigScreen__2Ovgn",MobileTop:"AppStyles_MobileTop__3YCd8",MobileView:"AppStyles_MobileView__380PS",Mini:"AppStyles_Mini__1xnVW",MiniQueue:"AppStyles_MiniQueue__3WVNk",MiniDown:"AppStyles_MiniDown__1obLw",MiniUp:"AppStyles_MiniUp__2xW6g",NoMargin:"AppStyles_NoMargin__2S3q0",SelfInfoRed:"AppStyles_SelfInfoRed__1IGTb",SelfInfoOrange:"AppStyles_SelfInfoOrange__dDHRj",SelfInfoGreen:"AppStyles_SelfInfoGreen__3Clhg",TimerSection:"AppStyles_TimerSection__r8WnA",Timer:"AppStyles_Timer__NwwKb",TimerWithMargins:"AppStyles_TimerWithMargins__3X5f3",LittlePadding:"AppStyles_LittlePadding__2m1Kg",BackGroundGold:"AppStyles_BackGroundGold__2fWqM",NoBorder:"AppStyles_NoBorder__Yi3x6",TablePlayers:"AppStyles_TablePlayers__2saOQ",TablePlayers_td:"AppStyles_TablePlayers_td__1R_bw",TeamInfoStyle:"AppStyles_TeamInfoStyle__23c2H",Player:"AppStyles_Player__2J2wn",Button25:"AppStyles_Button25__1CwIr",GoldText:"AppStyles_GoldText__3Hr9_",PaddingLeft:"AppStyles_PaddingLeft__3KtBQ",NoMarginOrPadding:"AppStyles_NoMarginOrPadding__1-LBZ",Injured:"AppStyles_Injured__jyOXt"}},60:function(e,n,t){"use strict";t.r(n);var a,r,i,l,c,o,s,d,u,j,b=t(25),p=t(4),m=t(46),y=t.n(m),h=t(5),O=t(69),f=t(75),g=t(17),x=t(71),v=Object(x.a)(a||(a=Object(g.a)(["\n    mutation login($owner: String, $password: String) {\n        login(owner: $owner, password:$password) {\n            value\n        }\n    }\n"]))),P=(Object(x.a)(r||(r=Object(g.a)(["\n    query{\n        allTeams{\n            owner\n            id\n            players{\n                playerName\n                nflTeam\n                position\n                price\n                bye\n                id\n            }\n        }\n    }\n"]))),Object(x.a)(i||(i=Object(g.a)(["\n    query{\n        allPlayers{\n            playerName\n            nflTeam\n            rank\n            expectedValue\n            position\n            bye\n            injury\n            id\n        }\n    }\n"])))),N=Object(x.a)(l||(l=Object(g.a)(["\n    query{\n        allSoldPlayers{\n            playerName\n            nflTeam\n            position\n            price\n            id\n            oldId\n        }\n        allTeams{\n            owner\n            id\n            place\n            salary\n            players{\n                playerName\n                nflTeam\n                position\n                price\n                bye\n                id\n            }\n        }\n        lastProposer{\n            proposer\n        }\n        currentBid{\n            bidder\n            currentPrice\n            timeLeft\n            player{\n                playerName\n                nflTeam\n                rank\n                expectedValue\n                position\n                bye\n                id\n                injury\n            }\n        }\n\n    }\n"]))),S=(Object(x.a)(c||(c=Object(g.a)(["\n    mutation addTeam($owner:String!, $place: Int){\n        addTeam(owner:$owner, place:$place){\n            owner\n        }\n    }\n"]))),Object(x.a)(o||(o=Object(g.a)(["\n    mutation changeProposer{\n        changeProposer{\n            proposer\n        }\n    }\n"])))),w=(Object(x.a)(s||(s=Object(g.a)(["\n    mutation nullProposer{\n        nullProposer{\n            true\n        }\n    }\n"]))),Object(x.a)(d||(d=Object(g.a)(["\n    mutation changeBid($bidder: String!, $playerId: String!, $currentPrice:Int, $timeLeft:String){\n        changeBid(bidder:$bidder, playerId:$playerId, currentPrice:$currentPrice, timeLeft: $timeLeft){\n            currentPrice\n        }\n    }\n"])))),_=Object(x.a)(u||(u=Object(g.a)(["\n    mutation sellPlayer($owner:String!, $playerName:String!, $nflTeam:String!, $position:String!, $price:Int!, $oldId:String!, $bye:Int!){\n        addSoldPlayer(owner: $owner, playerName: $playerName, nflTeam:$nflTeam, position:$position, price:$price, oldId:$oldId, bye:$bye){\n            playerName\n        }\n    }\n"]))),k=(Object(x.a)(j||(j=Object(g.a)(["\n    mutation addPlayer($playerName: String!, $nflTeam: String!, $rank: Int!, $expectedValue: Int!, $position: String!, $bye: Int!){\n        addPlayer(playerName:$playerName, nflTeam:$nflTeam, rank:$rank, expectedValue:$expectedValue, position:$position, bye:$bye){\n            playerName\n        }\n    }\n"]))),t(49)),T=t(12),M=t.n(T),B=t(16),C=t(3),I=t.n(C),A=function(e,n){var t=200-n,a=19-e,r=t/a,i=t-(a-1);return{moneyAtStart:200,moneyLeft:t,maxRosterSize:19,avgPrice:Math.trunc(r),maxBid:i,seatsLeft:a}},$=function(e,n,t){return isNaN(Number(n.currentPrice))?(alert("Olet aasi, et hakkeri"),!1):e.bidder===n.bidder?(alert("Sinulla on jo johtava tarjous"),!1):e.currentPrice>=n.currentPrice?(alert("Liian pieni tarjous"),!1):0===t.seatsLeft?(alert("Joukkueesi on jo t\xe4ynn\xe4"),!1):!(t.maxBid<n.currentPrice)||(alert("VITUN K\xd6YH\xc4"),!1)},L=function(e,n){var t=19-n.players.length,a=200-n.salary-t+1;return!(n.players.length>=19)&&(null!==e&&(!(e.currentPrice>=a)&&e.bidder!==n.id))},R=function(e,n,t){return!!(null===e|void 0===e)&&(null!==t&&n.id===t.id)},Q=t(76),D=t(0),V=function(e){var n=e.playerQueue.filter((function(n,t){return e.playerQueue.indexOf(n)===t})),t=A(e.manager.players.length,e.manager.salary),a=function(e){var n=e.filter((function(e){return"QB"===e.position})),t=e.filter((function(e){return"RB"===e.position})),a=e.filter((function(e){return"WR"===e.position})),r=e.filter((function(e){return"TE"===e.position})),i=e.filter((function(e){return"D"===e.position})),l=e.filter((function(e){return"K"===e.position})),c=e.filter((function(e){return"IDP"===e.position}));return{qb:n.length,rb:t.length,wr:a.length,te:r.length,k:l.length,d:i.length,idp:c.length}}(e.manager.players),r=Object(Q.a)(w),i=Object(h.a)(r,1)[0],l=null!==e.nominatedPlayer?e.nominatedPlayer.currentPrice+1:1,c=function(){var n=Object(B.a)(M.a.mark((function n(t){var a,r,c;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a={bidder:t.id,playerId:e.nominatedPlayer.player.id,currentPrice:Number(l)},r=e.teams.find((function(e){return e.id===t.id})),c=A(r.players.length,r.salary),$(e.nominatedPlayer,a,c)?i({variables:a}):console.log("Virheilmoitus");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),o=function(n){e.nominate(n),alert("Your nomination is in")},s=window.innerHeight,d={height:.75*s,width:"35%",overflowY:"scroll",backgroundColor:"goldenrod",paddingTop:.2*s,paddingBottom:"1%"},u={height:.75*s,width:"100%",overflowY:"scroll",backgroundColor:"goldenrod",paddingTop:1,paddingBottom:"1%",border:"maroon solid 5px",paddingLeft:"10%"};return Object(D.jsxs)("div",{style:!0===e.mobile?u:d,children:[Object(D.jsxs)("h1",{children:["Manager: ",e.manager.owner]}),Object(D.jsxs)("p",{children:["Money:",t.moneyLeft,"  Avg bid:",t.avgPrice," Max bid:",t.maxBid," Roster spots left:",t.seatsLeft]}),Object(D.jsxs)("p",{children:["QB: ",a.qb," RB: ",a.rb," WR: ",a.wr," TE: ",a.te," K: ",a.k," D: ",a.d," IDP: ",a.idp]}),"Erik"===e.manager.owner&&Object(D.jsxs)("div",{children:[Object(D.jsx)("h2",{children:"Commish tools"}),e.teams.map((function(n){return Object(D.jsxs)("p",{className:I.a.Mini,children:[n.owner,Object(D.jsxs)("button",{disabled:!0!==L(e.nominatedPlayer,n),onClick:function(){return c(n)},children:["$",l]}),Object(D.jsx)("button",{disabled:!0!==R(e.nominatedPlayer,n,e.turn),onClick:function(){return o(e.player)},children:"Nominate first"})]},n.id)}))]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("h2",{children:"Queue"}),n.map((function(n){return Object(D.jsxs)("p",{className:I.a.MiniQueue,children:[n.rank,". ",n.playerName," ",n.injury,Object(D.jsx)("button",{onClick:function(){return e.callBackRemove(n.id)},children:"Remove"}),Object(D.jsx)("button",{disabled:!0!==R(e.nominatedPlayer,e.manager,e.turn),onClick:function(){return o(n)},children:"Nominate"})]},n.id)}))]})]})},G=function(e){return Object(D.jsxs)("tr",{className:I.a.TablePlayers,children:[Object(D.jsxs)("td",{className:I.a.TablePlayers_td,children:[e.player.rank,". "]}),Object(D.jsxs)("td",{className:I.a.TablePlayers_td,children:[e.player.playerName," ",null!==e.player.injury?e.player.injury:null]}),Object(D.jsx)("td",{className:I.a.TablePlayers_td,children:e.player.position}),Object(D.jsx)("td",{className:I.a.TablePlayers_td,children:e.player.nflTeam}),Object(D.jsx)("td",{className:I.a.TablePlayers_td,children:e.player.bye}),Object(D.jsxs)("td",{className:I.a.TablePlayers_td,children:["$",e.player.expectedValue]}),Object(D.jsx)("td",{children:Object(D.jsx)("button",{onClick:function(){return e.addPlayer(e.player)},children:"Add"})}),Object(D.jsx)("td",{children:Object(D.jsx)("button",{disabled:!0!==e.validateManagerCanNominate,onClick:function(){return n=e.player,e.nominate(n),void alert("Your nomination is in");var n},children:"Nominate"})})]})},E=function(e){if(e.filter.length>2){var n=e.availablePlayers.filter((function(n){return n.playerName.toLowerCase().includes(e.filter.toLowerCase())}));return Object(D.jsx)("tbody",{children:n.map((function(n){return Object(D.jsx)(G,{player:n,addPlayer:e.addPlayer,nominate:e.nominate,validateManagerCanNominate:e.validateManagerCanNominate},n.id)}))})}if("ALL"===e.position)return Object(D.jsx)("tbody",{children:e.availablePlayers.map((function(n){return Object(D.jsx)(G,{player:n,addPlayer:e.addPlayer,nominate:e.nominate,validateManagerCanNominate:e.validateManagerCanNominate},n.id)}))});var t=e.availablePlayers.filter((function(n){return n.position===e.position}));return Object(D.jsx)("tbody",{children:t.map((function(n){return Object(D.jsx)(G,{player:n,addPlayer:e.addPlayer,nominate:e.nominate,validateManagerCanNominate:e.validateManagerCanNominate},n.id)}))})},F=function(e){var n=Object(p.useState)("ALL"),t=Object(h.a)(n,2),a=t[0],r=t[1],i=Object(p.useState)(""),l=Object(h.a)(i,2),c=l[0],o=l[1],s=window.innerHeight,d={height:.75*s,width:"35%",overflowY:"scroll",backgroundColor:"maroon",paddingTop:.2*s+1,paddingBottom:"1%"},u={height:.75*s,width:"100%",overflowY:"scroll",backgroundColor:"maroon",paddingTop:1,paddingBottom:"1%"};return Object(D.jsx)("div",{style:!0===e.mobile?u:d,children:Object(D.jsxs)("div",{className:I.a.scroll,children:[Object(D.jsxs)("div",{className:I.a.PaddingLeft,children:[Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("button",{onClick:function(){r("ALL")},children:"ALL"}),Object(D.jsx)("button",{onClick:function(){r("QB")},children:"QB"}),Object(D.jsx)("button",{onClick:function(){r("RB")},children:"RB"}),Object(D.jsx)("button",{onClick:function(){r("WR")},children:"WR"}),Object(D.jsx)("button",{onClick:function(){r("TE")},children:"TE"})]}),Object(D.jsxs)("p",{children:[Object(D.jsx)("button",{onClick:function(){r("K")},children:"K"}),Object(D.jsx)("button",{onClick:function(){r("D")},children:"D"}),Object(D.jsx)("button",{onClick:function(){r("IDP")},children:"IDP"})]}),Object(D.jsxs)("p",{className:I.a.GoldText,children:["Filter ",Object(D.jsx)("input",{onChange:function(e){console.log(e.target.value),o(e.target.value)}})]}),Object(D.jsx)("h2",{className:I.a.GoldText,children:"Available players:"})]}),Object(D.jsxs)("table",{children:[Object(D.jsx)("thead",{children:Object(D.jsxs)("tr",{children:[Object(D.jsx)("th",{className:I.a.GoldText,scope:"col",children:"Rank"}),Object(D.jsx)("th",{className:I.a.GoldText,scope:"col",children:"Name"}),Object(D.jsx)("th",{className:I.a.GoldText,scope:"col",children:"Pos"}),Object(D.jsx)("th",{className:I.a.GoldText,scope:"col",children:"Team"}),Object(D.jsx)("th",{className:I.a.GoldText,scope:"col",children:"Bye"}),Object(D.jsx)("th",{className:I.a.GoldText,scope:"col",children:"Avg"}),Object(D.jsx)("th",{className:I.a.GoldText,scope:"col",children:"Queue"})]})}),Object(D.jsx)(E,{availablePlayers:e.availablePlayers,position:a,filter:c,addPlayer:e.addPlayer,nominate:e.nominate,validateManagerCanNominate:e.validateManagerCanNominate})]})]})})},W=function(e){var n=null!==e.nominatedPlayer?e.nominatedPlayer.timeLeft:3e4,t=function(){return(n-Date.now())/1e3},a=Object(p.useState)(t()),r=Object(h.a)(a,2),i=r[0],l=r[1],c=Object(Q.a)(_),o=Object(h.a)(c,1)[0];if(Object(p.useEffect)((function(){setTimeout((function(){l(t())}),1e3)})),null===e.turn)return Object(D.jsx)("div",{children:Object(D.jsx)("h1",{children:"Starting soon"})});var s=function(){var n=Object(B.a)(M.a.mark((function n(){var t;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(i<=1)){n.next=7;break}return t={owner:e.validatedFirstBid.bidder,playerName:e.validatedFirstBid.player.playerName,nflTeam:e.validatedFirstBid.player.nflTeam,position:e.validatedFirstBid.player.position,oldId:e.validatedFirstBid.player.id,bye:e.validatedFirstBid.player.bye,price:e.validatedFirstBid.currentPrice},n.next=4,o({variables:t});case 4:console.log("T\xe4ss\xe4"),e.start(!0),console.log("Ja t\xe4ss\xe4");case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return null===e.nominatedPlayer?Object(D.jsx)("div",{children:Object(D.jsxs)("h1",{children:[e.turn.owner," is nominating..."]})}):Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{className:I.a.Timer,children:Object(D.jsxs)("h2",{children:["0:",Math.trunc(i)<10?"0":null,Math.trunc(i)>=0?Math.trunc(i):0]})}),"Erik"===e.manager.owner?Object(D.jsx)("button",{className:I.a.mini,onClick:function(){return s()},children:"Finalize sale"}):null]})},Y=function(e){var n=e.playerQueue.filter((function(n,t){return e.playerQueue.indexOf(n)===t})),t=Object(Q.a)(w),a=Object(h.a)(t,1)[0],r={};e.nominatedPlayer&&(r=Object(b.a)(Object(b.a)({},e.nominatedPlayer),{},{currentPrice:null===e.nominatedPlayer.currentPrice?1:e.nominatedPlayer.currentPrice}));var i=null!==r?r.currentPrice+1:1,l=Object(p.useState)(null!==r?r.currentPrice+1:2),c=Object(h.a)(l,2),o=c[0],s=c[1],d=A(e.manager.players.length,e.manager.salary);console.log(i);var u=null!==r?e.teams.find((function(e){return e.id===r.bidder})):null,j=function(){var n=Object(B.a)(M.a.mark((function n(t){var l,c,o;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l={bidder:t.id,playerId:r.player.id,currentPrice:Number(i)},c=e.teams.find((function(e){return e.id===t.id})),o=A(c.players.length,c.salary),$(r,l,o)&&a({variables:l});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),m=function(){var n=Object(B.a)(M.a.mark((function n(t){var i;return M.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.preventDefault(),console.log(o),i={bidder:e.manager.id,playerId:r.player.id,currentPrice:Number(o)},$(r,i,d)?a({variables:i}):console.log("Virheilmoitus"),s(0);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(D.jsxs)("div",{className:null===e.turn?I.a.SelfInfoOrange:e.manager.id===e.turn.id&null===r?I.a.SelfInfoGreen:null===r?I.a.SelfInfoOrange:r.bidder===e.manager.id?I.a.SelfInfoGreen:I.a.SelfInfoRed,children:["Erik"===e.manager.owner&&Object(D.jsx)("button",{onClick:function(){return e.start()},children:"start"}),Object(D.jsx)("button",{onClick:function(){return e.logOut()},children:"Sign out"}),Object(D.jsxs)("div",{className:I.a.TimerSection,children:[null!==e.nominatedPlayer&&Object(D.jsx)("h3",{className:I.a.Mini,children:!0===e.isMobile?"Time:":"Time left:"}),Object(D.jsx)(W,{start:e.start,validatedFirstBid:r,manager:e.manager,playerQueue:n,nominatedPlayer:e.nominatedPlayer,turn:e.turn,"l\xe4hetys":e.l\u00e4hetys}),null!==e.nominatedPlayer&&Object(D.jsxs)("div",{children:[Object(D.jsx)("h4",{className:I.a.Mini,children:!0===e.isMobile?"Nominated:":"Nominated by"}),Object(D.jsx)("h4",{className:I.a.MiniUp,children:e.turn.owner})]})]}),null!==e.nominatedPlayer&&Object(D.jsxs)("div",{children:[Object(D.jsx)("h4",{className:I.a.Mini,children:!0===e.isMobile?"Current:":"Current bid:"}),Object(D.jsx)("h3",{className:I.a.TimerWithMargins,children:Object(D.jsxs)("strong",{children:["$",r.currentPrice]})})," ",Object(D.jsxs)("div",{className:I.a.LittlePadding,children:[!0===e.isMobile?"Bid:":"Quick bid "," ",Object(D.jsxs)("button",{disabled:!0!==L(r,e.manager),onClick:function(){return j(e.manager)},children:["$",i]}),Object(D.jsx)("form",{onSubmit:m,children:Object(D.jsxs)("div",{children:[!0===e.isMobile?"":"Bid"," ",Object(D.jsx)("input",{style:{width:"30px"},onChange:function(e){var n=e.target;return s(n.value)}}),Object(D.jsx)("button",{disabled:!0!==L(r,e.manager),type:"submit",children:"bid"})]})})]}),Object(D.jsx)("h4",{className:I.a.Mini,children:!0===e.isMobile?"Highest:":"Highest bid:"}),Object(D.jsx)("h4",{className:I.a.MiniUp,children:u.owner})]}),null!==e.nominatedPlayer&&Object(D.jsx)("div",{className:I.a.TimerSection,children:!0===e.isMobile?Object(D.jsxs)("div",{children:[Object(D.jsxs)("h2",{className:I.a.MiniDown,children:["Player: ",r.player.playerName]}),Object(D.jsxs)("h4",{className:I.a.NoMarginOrPadding,children:["Team: ",r.player.nflTeam]}),Object(D.jsxs)("h4",{className:I.a.NoMarginOrPadding,children:["Pos: ",r.player.position]}),Object(D.jsxs)("h4",{className:I.a.NoMarginOrPadding,children:["Bye: ",r.player.bye," "]}),Object(D.jsxs)("h4",{className:I.a.NoMarginOrPadding,children:["Avg price: ",r.player.expectedValue]}),Object(D.jsxs)("h4",{className:I.a.NoMarginOrPadding,children:["Inj: ",null!==r.player.injury?Object(D.jsx)("strong",{className:I.a.Injured,children:r.player.injury}):"none"]})]}):Object(D.jsxs)("div",{children:[Object(D.jsxs)("h2",{className:I.a.MiniDown,children:["Player: ",r.player.playerName,",  ",r.player.nflTeam]}),Object(D.jsxs)("h4",{className:I.a.NoMarginOrPadding,children:["Position: ",r.player.position," Injury: ",null!==r.player.injury?Object(D.jsx)("strong",{className:I.a.Injured,children:r.player.injury}):"none"]}),Object(D.jsxs)("h4",{className:I.a.NoMarginOrPadding,children:["Avg price: ",r.player.expectedValue]}),Object(D.jsxs)("h4",{className:I.a.NoMarginOrPadding,children:["Bye Week: ",r.player.bye]})]})})]})},z=function(e){return Object(D.jsx)("tr",{children:Object(D.jsxs)("td",{className:I.a.Player,children:[e.player.playerName,null!==e.player.injury?e.player.injury:null,", ",e.player.nflTeam,", bye ",e.player.bye,", price: ",e.player.price]})})},H=function(e){var n=A(e.team.players.length,e.team.salary);return Object(D.jsxs)("div",{className:I.a.TeamInfoStyle,children:[Object(D.jsxs)("h3",{className:I.a.MiniDown,children:["Owner: ",e.team.owner]}),Object(D.jsxs)("h4",{className:I.a.MiniUp,children:["Roster size: ",n.maxRosterSize-n.seatsLeft,"/19 Money left: ",n.moneyLeft," ",Object(D.jsx)("br",{}),"Avg Price: ",n.avgPrice," Max Bid: ",n.maxBid]}),Object(D.jsx)("table",{children:Object(D.jsxs)("tbody",{children:[Object(D.jsx)("tr",{children:Object(D.jsx)("td",{children:"QB(min 1):"})}),e.team.players.filter((function(e){return"QB"===e.position})).map((function(e){return Object(D.jsx)(z,{player:e},e.id)})),Object(D.jsx)("tr",{children:Object(D.jsx)("td",{children:"RB(min 2):"})}),e.team.players.filter((function(e){return"RB"===e.position})).map((function(e){return Object(D.jsx)(z,{player:e},e.id)})),Object(D.jsx)("tr",{children:Object(D.jsx)("td",{children:"WR(min 2):"})}),e.team.players.filter((function(e){return"WR"===e.position})).map((function(e){return Object(D.jsx)(z,{player:e},e.id)})),Object(D.jsx)("tr",{children:Object(D.jsx)("td",{children:"TE(min 1):"})}),e.team.players.filter((function(e){return"TE"===e.position})).map((function(e){return Object(D.jsx)(z,{player:e},e.id)})),Object(D.jsx)("tr",{children:Object(D.jsx)("td",{children:"K(min 1):"})}),e.team.players.filter((function(e){return"K"===e.position})).map((function(e){return Object(D.jsx)(z,{player:e},e.id)})),Object(D.jsx)("tr",{children:Object(D.jsx)("td",{children:"D(min 1):"})}),e.team.players.filter((function(e){return"D"===e.position})).map((function(e){return Object(D.jsx)(z,{player:e},e.id)})),Object(D.jsx)("tr",{children:Object(D.jsx)("td",{children:"IDP(min 4):"})}),e.team.players.filter((function(e){return"IDP"===e.position})).map((function(e){return Object(D.jsx)(z,{player:e},e.id)}))]})})]})},K=function(e){var n=Object(p.useState)(e.manager),t=Object(h.a)(n,2),a=t[0],r=t[1],i=window.innerHeight,l={height:.75*i,width:"30%",overflowY:"scroll",backgroundColor:"maroon",paddingTop:.2*i+1,paddingBottom:"1%"},c={height:.75*i,width:"100%",overflowY:"scroll",backgroundColor:"maroon",paddingTop:1,paddingBottom:"1%"};return Object(D.jsxs)("div",{style:!0===e.mobile?c:l,children:[e.teams.slice(0,4).map((function(e){return Object(D.jsxs)("button",{className:I.a.Button25,onClick:function(){r(e)},children:[e.owner," ",e.players.length,"/19"]},e.id)}))," ",Object(D.jsx)("br",{}),e.teams.slice(4,8).map((function(e){return Object(D.jsxs)("button",{className:I.a.Button25,onClick:function(){r(e)},children:[e.owner," ",e.players.length,"/19"]},e.id)})),Object(D.jsx)("br",{}),e.teams.slice(8,12).map((function(e){return Object(D.jsxs)("button",{className:I.a.Button25,onClick:function(){r(e)},children:[e.owner," ",e.players.length,"/19"]},e.id)})),Object(D.jsx)("br",{}),e.teams.slice(12).map((function(e){return Object(D.jsxs)("button",{className:I.a.Button25,onClick:function(){r(e)},children:[e.owner," ",e.players.length,"/19"]},e.id)})),Object(D.jsx)(H,{team:a},a.id)]})},q=function(e){var n=Object(p.useState)("players"),t=Object(h.a)(n,2),a=t[0],r=t[1],i=function(e){r(e)};console.log(e.isMobile),e.isMobile&&console.log("Joo");var l=window.innerHeight,c={width:"100%",height:l,position:"relative",backgroundColor:"maroon"},o={height:.3*l,width:"100%",overflowY:"scroll",position:"fixed",top:0,left:0,zIndex:999},s={width:"100%",overflowY:"scroll",position:"fixed",marginTop:.28*l,zIndex:950,backgroundColor:"goldenRod",paddingTop:"1%"},d={width:"33%",padding:"none",margin:"none",height:.05*l,backgroundColor:"maroon",border:"goldenRod 2px solid",color:"gold",textShadow:"-1px 0 black, 0 1px black, 1px 0 black, 0 -1px black"},u={width:"33%",padding:"none",margin:"none",height:.05*l,backgroundColor:"goldenRod",border:"maroon 2px solid",color:"black"},j={height:.65*l,width:"100%",overflowY:"scroll",position:"absolute",marginTop:.35*l};return Object(D.jsxs)("div",{style:c,children:[Object(D.jsx)("div",{style:o,children:Object(D.jsx)(Y,{isMobile:e.isMobile,logOut:e.logOut,nominatedPlayer:e.nominatedPlayer,playerQueue:e.playerQueue,autoPick:e.availablePlayers[0],turn:e.turn,callBackRemove:e.callBackRemove,teams:e.teams,manager:e.manager,start:e.start,"l\xe4hetys":e.l\u00e4hetys})}),Object(D.jsxs)("div",{style:s,children:[Object(D.jsx)("button",{style:"players"!==a?d:u,onClick:function(){return i("players")},children:"Players"}),Object(D.jsx)("button",{style:"queue"!==a?d:u,onClick:function(){return i("queue")},children:"Queue"}),Object(D.jsx)("button",{style:"teams"!==a?d:u,onClick:function(){return i("teams")},children:"Teams"})]}),Object(D.jsx)("div",{style:j,children:"players"===a?Object(D.jsx)(F,{mobile:!0,availablePlayers:e.availablePlayers,addPlayer:e.addPlayer,nominate:e.nominate,validateManagerCanNominate:e.validateManagerCanNominate}):"queue"===a?Object(D.jsx)(V,{mobile:!0,start:e.start,nominatedPlayer:e.nominatedPlayer,turn:e.turn,player:e.availablePlayers[0],nominate:e.nominate,manager:e.manager,playerQueue:e.playerQueue,callBackRemove:e.callBackRemove,xfinalizeSaleButton:e.xfinalizeSaleButton,teams:e.teams}):Object(D.jsx)(K,{teams:e.teams,manager:e.manager,mobile:!0})})]})},J=function(e){var n=Object(p.useState)([]),t=Object(h.a)(n,2),a=t[0],r=t[1],i=e.data.currentBid,l=null===e.data.lastProposer?null:e.data.allTeams.find((function(n){return n.place===e.data.lastProposer.proposer})),c=e.data.allTeams.find((function(n){return n.owner===e.manager})),o=Object(Q.a)(S),s=Object(h.a)(o,1)[0],d=Object(Q.a)(w),u=Object(h.a)(d,1)[0],j=Object(p.useState)(!0),b=Object(h.a)(j,2),m=b[0],y=b[1],O=function(e){y(e)};console.log(i);var f=function(){var e=Object(B.a)(M.a.mark((function e(n){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(!0===n||window.confirm("Eth\xe4n painanut vahingossa?"))&&s();case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),g=R(i,c,l),x=function(e){r([].concat(Object(k.a)(a),[e]))},v=function(e){var n={bidder:l.id,playerId:e.id};u({variables:n})},P=e.data.allSoldPlayers.map((function(e){return e.oldId})),N=e.pplayers.filter((function(e){return!P.includes(e.id)}));N.sort((function(e,n){return e.rank-n.rank}));var _=function(e){var n=a.filter((function(n){return n.id!==e}));r(n)},T={height:.2*window.innerHeight,width:"100%",overflowY:"scroll",position:"fixed"};return a.forEach((function(e){return P.includes(e.id)?_(e.id):null})),e.mobileView?Object(D.jsx)(q,{isMobile:!0,logOut:e.logOut,nominatedPlayer:i,playerQueue:a,autoPick:N[0],turn:l,callBackRemove:_,teams:e.data.allTeams,manager:c,start:f,"l\xe4hetys":O,availablePlayers:N,addPlayer:x,nominate:v,validateManagerCanNominate:g,player:N[0],xfinalizeSaleButton:m}):Object(D.jsxs)("div",{className:"App",children:[Object(D.jsx)("div",{style:T,children:Object(D.jsx)(Y,{logOut:e.logOut,nominatedPlayer:i,playerQueue:a,autoPick:N[0],turn:l,callBackRemove:_,teams:e.data.allTeams,manager:c,start:f,"l\xe4hetys":O})}),Object(D.jsxs)("div",{className:I.a.FlexiContent,children:[Object(D.jsx)(F,{availablePlayers:N,addPlayer:x,nominate:v,validateManagerCanNominate:g}),Object(D.jsx)(V,{start:f,nominatedPlayer:i,turn:l,player:N[0],nominate:v,manager:c,playerQueue:a,callBackRemove:_,xfinalizeSaleButton:m,teams:e.data.allTeams}),Object(D.jsx)(K,{teams:e.data.allTeams,manager:c})]})]})},U=function(e){var n=Object(f.a)(N,{pollInterval:1e3}),t=n.data,a=n.error;return n.loading?Object(D.jsx)("div",{children:"loading..."}):(a&&console.log(a),console.log(e),Object(D.jsx)(J,{data:t,pplayers:e.pplayers,manager:e.manager,logOut:e.logOut,mobileView:e.mobileView}))},X=function(e){var n=Object(p.useState)(""),t=Object(h.a)(n,2),a=t[0],r=t[1],i=Object(p.useState)(""),l=Object(h.a)(i,2),c=l[0],o=l[1],s=Object(Q.a)(v),d=Object(h.a)(s,2),u=d[0],j=d[1],b=Object(p.useState)(!1),m=Object(h.a)(b,2),y=m[0],O=m[1];Object(p.useEffect)((function(){if(e.logOut(),j.data){var n=j.data.login.value,t=a,r=y;e.setToken(n),e.setOwner(t),e.setMobileView(r),localStorage.setItem("manager-token",n),localStorage.setItem("owner",t),localStorage.setItem("mobile",y)}}),[j.data]);var f=function(){var e=Object(B.a)(M.a.mark((function e(n){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,u({variables:{owner:a,password:c}});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(D.jsx)("div",{children:Object(D.jsxs)("form",{onSubmit:f,children:[Object(D.jsxs)("div",{children:["manager ",Object(D.jsx)("input",{value:a,onChange:function(e){var n=e.target;return r(n.value)}})]}),Object(D.jsxs)("div",{children:["password ",Object(D.jsx)("input",{value:c,onChange:function(e){var n=e.target;return o(n.value)}})]}),Object(D.jsxs)("div",{children:["mobile ",Object(D.jsx)("input",{type:"checkbox",onClick:function(){return O(!y)}})]}),Object(D.jsx)("button",{type:"submit",children:"login"})]})})},Z=function(){var e=Object(p.useState)(null),n=Object(h.a)(e,2),t=n[0],a=n[1],r=Object(p.useState)(""),i=Object(h.a)(r,2),l=i[0],c=i[1],o=Object(p.useState)(!1),s=Object(h.a)(o,2),d=s[0],u=s[1],j=Object(O.a)(),b=Object(f.a)(P),m=b.data;b.error,b.loading;Object(p.useEffect)((function(){var e=localStorage.getItem("manager-token"),n=localStorage.getItem("owner"),t=localStorage.getItem("mobile");e&&a(e),n&&c(n),!0===t&&u(t)}),[]);var y=function(){a(null),c(null),localStorage.clear(),j.resetStore()};return!t|!l?Object(D.jsx)(X,{setToken:a,setOwner:c,setMobileView:u,logOut:y}):(console.log(m),Object(D.jsx)(U,{manager:l,pplayers:m.allPlayers,logOut:y,mobileView:d}))},ee=t(73),ne=t(72),te=t(74),ae=t(70),re=t(48),ie=Object(re.a)((function(e,n){var t=n.headers,a=localStorage.getItem("manager-token");return{headers:Object(b.a)(Object(b.a)({},t),{},{authorization:a?"bearer ".concat(a):null})}})),le=new ee.a({uri:"/"}),ce=new ne.a({cache:new te.a,link:ie.concat(le)});y.a.render(Object(D.jsx)(ae.a,{client:ce,children:Object(D.jsx)(Z,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.6b0c63b5.chunk.js.map