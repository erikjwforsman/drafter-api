(this.webpackJsonpdrafter_app=this.webpackJsonpdrafter_app||[]).push([[0],{3:function(e,n,t){e.exports={App:"AppStyles_App__1aSED",Flexi:"AppStyles_Flexi__3Vfdt",FlexiContent:"AppStyles_FlexiContent__ZgYCP",Top:"AppStyles_Top__MS2gt",SmallScreenLeft:"AppStyles_SmallScreenLeft__2WQzj",SmallScreen:"AppStyles_SmallScreen__3KQ5v",BigScreen:"AppStyles_BigScreen__2Ovgn",MobileTop:"AppStyles_MobileTop__3YCd8",MobileView:"AppStyles_MobileView__380PS",Mini:"AppStyles_Mini__1xnVW",MiniQueue:"AppStyles_MiniQueue__3WVNk",MiniDown:"AppStyles_MiniDown__1obLw",MiniUp:"AppStyles_MiniUp__2xW6g",NoMargin:"AppStyles_NoMargin__2S3q0",SelfInfoRed:"AppStyles_SelfInfoRed__1IGTb",SelfInfoOrange:"AppStyles_SelfInfoOrange__dDHRj",SelfInfoGreen:"AppStyles_SelfInfoGreen__3Clhg",TimerSection:"AppStyles_TimerSection__r8WnA",Timer:"AppStyles_Timer__NwwKb",TimerWithMargins:"AppStyles_TimerWithMargins__3X5f3",LittlePadding:"AppStyles_LittlePadding__2m1Kg",BackGroundGold:"AppStyles_BackGroundGold__2fWqM",NoBorder:"AppStyles_NoBorder__Yi3x6",TablePlayers:"AppStyles_TablePlayers__2saOQ",TablePlayers_td:"AppStyles_TablePlayers_td__1R_bw",TeamInfoStyle:"AppStyles_TeamInfoStyle__23c2H",Player:"AppStyles_Player__2J2wn",Button25:"AppStyles_Button25__1CwIr",GoldText:"AppStyles_GoldText__3Hr9_",PaddingLeft:"AppStyles_PaddingLeft__3KtBQ",NoMarginOrPadding:"AppStyles_NoMarginOrPadding__1-LBZ",Injured:"AppStyles_Injured__jyOXt"}},51:function(e,n,t){"use strict";t.r(n);var a,r,i,l,o,c,s,d,u,j,b=t(4),p=t(37),m=t.n(p),y=t(5),f=t(61),h=t(67),O=t(14),x=t(63),g=Object(x.a)(a||(a=Object(O.a)(["\n    mutation login($owner: String, $password: String) {\n        login(owner: $owner, password:$password) {\n            value\n        }\n    }\n"]))),P=(Object(x.a)(r||(r=Object(O.a)(["\n    query{\n        allTeams{\n            owner\n            id\n            players{\n                playerName\n                nflTeam\n                position\n                price\n                bye\n                id\n            }\n        }\n    }\n"]))),Object(x.a)(i||(i=Object(O.a)(["\n    query{\n        allPlayers{\n            playerName\n            nflTeam\n            rank\n            expectedValue\n            position\n            bye\n            injury\n            id\n        }\n    }\n"]))),Object(x.a)(l||(l=Object(O.a)(["\n    query{\n        allPlayers{\n            playerName\n            nflTeam\n            rank\n            expectedValue\n            position\n            bye\n            injury\n            id\n        }\n        allSoldPlayers{\n            playerName\n            nflTeam\n            position\n            price\n            id\n            oldId\n        }\n        allTeams{\n            owner\n            id\n            place\n            salary\n            players{\n                playerName\n                nflTeam\n                position\n                price\n                bye\n                id\n            }\n        }\n        lastProposer{\n            proposer\n        }\n        currentBid{\n            bidder\n            currentPrice\n            timeLeft\n            player{\n                playerName\n                nflTeam\n                rank\n                expectedValue\n                position\n                bye\n                id\n                injury\n            }\n        }\n\n    }\n"])))),v=(Object(x.a)(o||(o=Object(O.a)(["\n    mutation addTeam($owner:String!, $place: Int){\n        addTeam(owner:$owner, place:$place){\n            owner\n        }\n    }\n"]))),Object(x.a)(c||(c=Object(O.a)(["\n    mutation changeProposer{\n        changeProposer{\n            proposer\n        }\n    }\n"])))),S=(Object(x.a)(s||(s=Object(O.a)(["\n    mutation nullProposer{\n        nullProposer{\n            true\n        }\n    }\n"]))),Object(x.a)(d||(d=Object(O.a)(["\n    mutation changeBid($bidder: String!, $playerId: String!, $currentPrice:Int, $timeLeft:String){\n        changeBid(bidder:$bidder, playerId:$playerId, currentPrice:$currentPrice, timeLeft: $timeLeft){\n            currentPrice\n        }\n    }\n"])))),w=Object(x.a)(u||(u=Object(O.a)(["\n    mutation sellPlayer($owner:String!, $playerName:String!, $nflTeam:String!, $position:String!, $price:Int!, $oldId:String!, $bye:Int!){\n        addSoldPlayer(owner: $owner, playerName: $playerName, nflTeam:$nflTeam, position:$position, price:$price, oldId:$oldId, bye:$bye){\n            playerName\n        }\n    }\n"]))),_=(Object(x.a)(j||(j=Object(O.a)(["\n    mutation addPlayer($playerName: String!, $nflTeam: String!, $rank: Int!, $expectedValue: Int!, $position: String!, $bye: Int!){\n        addPlayer(playerName:$playerName, nflTeam:$nflTeam, rank:$rank, expectedValue:$expectedValue, position:$position, bye:$bye){\n            playerName\n        }\n    }\n"]))),t(39)),N=t(10),k=t.n(N),T=t(13),C=t(3),B=t.n(C),M=function(e,n){var t=200-n,a=19-e,r=t/a,i=t-(a-1);return{moneyAtStart:200,moneyLeft:t,maxRosterSize:19,avgPrice:Math.trunc(r),maxBid:i,seatsLeft:a}},I=function(e,n,t){return isNaN(Number(n.currentPrice))?(alert("Olet aasi, et hakkeri"),!1):e.bidder===n.bidder?(alert("Sinulla on jo johtava tarjous"),!1):e.currentPrice>=n.currentPrice?(alert("Liian pieni tarjous"),!1):0===t.seatsLeft?(alert("Joukkueesi on jo t\xe4ynn\xe4"),!1):!(t.maxBid<n.currentPrice)||(alert("VITUN K\xd6YH\xc4"),!1)},A=function(e,n){var t=19-n.players.length,a=200-n.salary-t+1;return!(n.players.length>=19)&&(null!==e&&(!(e.currentPrice>=a)&&e.bidder!==n.id))},$=function(e,n,t){return!!(null===e|void 0===e)&&(null!==t&&n.id===t.id)},L=t(68),R=t(0),Q=function(e){var n=e.playerQueue.filter((function(n,t){return e.playerQueue.indexOf(n)===t})),t=M(e.manager.players.length,e.manager.salary),a=function(e){var n=e.filter((function(e){return"QB"===e.position})),t=e.filter((function(e){return"RB"===e.position})),a=e.filter((function(e){return"WR"===e.position})),r=e.filter((function(e){return"TE"===e.position})),i=e.filter((function(e){return"D"===e.position})),l=e.filter((function(e){return"K"===e.position})),o=e.filter((function(e){return"IDP"===e.position}));return{qb:n.length,rb:t.length,wr:a.length,te:r.length,k:l.length,d:i.length,idp:o.length}}(e.manager.players),r=Object(L.a)(w),i=Object(y.a)(r,1)[0],l=Object(L.a)(S),o=Object(y.a)(l,1)[0],c=null!==e.nominatedPlayer?e.nominatedPlayer.currentPrice+1:1,s=function(){var n=Object(T.a)(k.a.mark((function n(){var t;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={owner:e.nominatedPlayer.bidder,playerName:e.nominatedPlayer.player.playerName,nflTeam:e.nominatedPlayer.player.nflTeam,position:e.nominatedPlayer.player.position,oldId:e.nominatedPlayer.player.id,bye:e.nominatedPlayer.player.bye,price:e.nominatedPlayer.currentPrice},n.next=3,i({variables:t});case 3:e.start(!0);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),d=function(){var n=Object(T.a)(k.a.mark((function n(t){var a,r,i;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a={bidder:t.id,playerId:e.nominatedPlayer.player.id,currentPrice:Number(c)},r=e.teams.find((function(e){return e.id===t.id})),i=M(r.players.length,r.salary),I(e.nominatedPlayer,a,i)?o({variables:a}):console.log("Virheilmoitus");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),u=window.innerHeight,j={height:.75*u,width:"35%",overflowY:"scroll",backgroundColor:"goldenrod",paddingTop:.2*u,paddingBottom:"1%"},b={height:.75*u,width:"100%",overflowY:"scroll",backgroundColor:"goldenrod",paddingTop:1,paddingBottom:"1%",border:"maroon solid 5px",paddingLeft:"10%"};return Object(R.jsxs)("div",{style:!0===e.mobile?b:j,children:[Object(R.jsxs)("h1",{children:["Manager: ",e.manager.owner]}),Object(R.jsxs)("p",{children:["Money:",t.moneyLeft,"  Avg bid:",t.avgPrice," Max bid:",t.maxBid," Roster spots left:",t.seatsLeft]}),Object(R.jsxs)("p",{children:["QB: ",a.qb," RB: ",a.rb," WR: ",a.wr," TE: ",a.te," K: ",a.k," D: ",a.d," IDP: ",a.idp]}),"Erik"===e.manager.owner&&Object(R.jsxs)("div",{children:[Object(R.jsxs)("h2",{children:["Commish tools ",Object(R.jsx)("button",{disabled:e.xfinalizeSaleButton,onClick:function(){return s()},children:"Finalize sale"})]}),e.teams.map((function(n){return Object(R.jsxs)("p",{className:B.a.Mini,children:[n.owner,Object(R.jsxs)("button",{disabled:!0!==A(e.nominatedPlayer,n),onClick:function(){return d(n)},children:["$",c]}),Object(R.jsx)("button",{disabled:!0!==$(e.nominatedPlayer,n,e.turn),onClick:function(){return e.nominate(e.player)},children:"Nominate first"})]},n.id)}))]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("h2",{children:"Queue"}),n.map((function(n){return Object(R.jsxs)("p",{className:B.a.MiniQueue,children:[n.rank,". ",n.playerName," ",n.injury,Object(R.jsx)("button",{onClick:function(){return e.callBackRemove(n.id)},children:"Remove"}),Object(R.jsx)("button",{disabled:!0!==$(e.nominatedPlayer,e.manager,e.turn),onClick:function(){return e.nominate(n)},children:"Nominate"})]},n.id)}))]})]})},V=function(e){return Object(R.jsxs)("tr",{className:B.a.TablePlayers,children:[Object(R.jsxs)("td",{className:B.a.TablePlayers_td,children:[e.player.rank,". "]}),Object(R.jsxs)("td",{className:B.a.TablePlayers_td,children:[e.player.playerName," ",null!==e.player.injury?e.player.injury:null]}),Object(R.jsx)("td",{className:B.a.TablePlayers_td,children:e.player.position}),Object(R.jsx)("td",{className:B.a.TablePlayers_td,children:e.player.nflTeam}),Object(R.jsx)("td",{className:B.a.TablePlayers_td,children:e.player.bye}),Object(R.jsxs)("td",{className:B.a.TablePlayers_td,children:["$",e.player.expectedValue]}),Object(R.jsx)("td",{children:Object(R.jsx)("button",{onClick:function(){return e.addPlayer(e.player)},children:"Add"})}),Object(R.jsx)("td",{children:Object(R.jsx)("button",{disabled:!0!==e.validateManagerCanNominate,onClick:function(){return e.nominate(e.player)},children:"Nominate"})})]})},D=function(e){if(e.filter.length>2){var n=e.availablePlayers.filter((function(n){return n.playerName.toLowerCase().includes(e.filter.toLowerCase())}));return Object(R.jsx)("tbody",{children:n.map((function(n){return Object(R.jsx)(V,{player:n,addPlayer:e.addPlayer,nominate:e.nominate,validateManagerCanNominate:e.validateManagerCanNominate},n.id)}))})}if("ALL"===e.position)return Object(R.jsx)("tbody",{children:e.availablePlayers.map((function(n){return Object(R.jsx)(V,{player:n,addPlayer:e.addPlayer,nominate:e.nominate,validateManagerCanNominate:e.validateManagerCanNominate},n.id)}))});var t=e.availablePlayers.filter((function(n){return n.position===e.position}));return Object(R.jsx)("tbody",{children:t.map((function(n){return Object(R.jsx)(V,{player:n,addPlayer:e.addPlayer,nominate:e.nominate,validateManagerCanNominate:e.validateManagerCanNominate},n.id)}))})},G=function(e){var n=Object(b.useState)("ALL"),t=Object(y.a)(n,2),a=t[0],r=t[1],i=Object(b.useState)(""),l=Object(y.a)(i,2),o=l[0],c=l[1],s=window.innerHeight,d={height:.75*s,width:"35%",overflowY:"scroll",backgroundColor:"maroon",paddingTop:.2*s+1,paddingBottom:"1%"},u={height:.75*s,width:"100%",overflowY:"scroll",backgroundColor:"maroon",paddingTop:1,paddingBottom:"1%",marginLeft:"10%"};return Object(R.jsx)("div",{style:!0===e.mobile?u:d,children:Object(R.jsxs)("div",{className:B.a.scroll,children:[Object(R.jsxs)("div",{className:B.a.PaddingLeft,children:[Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("button",{onClick:function(){r("ALL")},children:"ALL"}),Object(R.jsx)("button",{onClick:function(){r("QB")},children:"QB"}),Object(R.jsx)("button",{onClick:function(){r("RB")},children:"RB"}),Object(R.jsx)("button",{onClick:function(){r("WR")},children:"WR"}),Object(R.jsx)("button",{onClick:function(){r("TE")},children:"TE"})]}),Object(R.jsxs)("p",{children:[Object(R.jsx)("button",{onClick:function(){r("K")},children:"K"}),Object(R.jsx)("button",{onClick:function(){r("D")},children:"D"}),Object(R.jsx)("button",{onClick:function(){r("IDP")},children:"IDP"})]}),Object(R.jsxs)("p",{className:B.a.GoldText,children:["Filter ",Object(R.jsx)("input",{onChange:function(e){console.log(e.target.value),c(e.target.value)}})]}),Object(R.jsx)("h2",{className:B.a.GoldText,children:"Available players:"})]}),Object(R.jsxs)("table",{children:[Object(R.jsx)("thead",{children:Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{className:B.a.GoldText,scope:"col",children:"Rank"}),Object(R.jsx)("th",{className:B.a.GoldText,scope:"col",children:"Name"}),Object(R.jsx)("th",{className:B.a.GoldText,scope:"col",children:"Pos"}),Object(R.jsx)("th",{className:B.a.GoldText,scope:"col",children:"Team"}),Object(R.jsx)("th",{className:B.a.GoldText,scope:"col",children:"Bye"}),Object(R.jsx)("th",{className:B.a.GoldText,scope:"col",children:"Avg"}),Object(R.jsx)("th",{className:B.a.GoldText,scope:"col",children:"Queue"})]})}),Object(R.jsx)(D,{availablePlayers:e.availablePlayers,position:a,filter:o,addPlayer:e.addPlayer,nominate:e.nominate,validateManagerCanNominate:e.validateManagerCanNominate})]})]})})},W=function(e){var n=null!==e.nominatedPlayer?e.nominatedPlayer.timeLeft:3e4,t=function(){return(n-Date.now())/1e3},a=Object(b.useState)(t()),r=Object(y.a)(a,2),i=r[0],l=r[1];return Object(b.useEffect)((function(){setTimeout((function(){i>0?(l(t()),!1===e.xfinalizeSaleButton&&e.l\u00e4hetys(!0)):(l(t()),!0===e.xfinalizeSaleButton&null!==e.nominatedPlayer&&e.l\u00e4hetys(!1))}),1e3)})),null===e.turn?Object(R.jsx)("div",{children:Object(R.jsx)("h1",{children:"Starting soon"})}):null===e.nominatedPlayer?Object(R.jsx)("div",{children:Object(R.jsxs)("h1",{children:[e.turn.owner," is nominating..."]})}):Object(R.jsx)("div",{className:B.a.Timer,children:Object(R.jsxs)("h2",{children:["0:",Math.trunc(i)<10?"0":null,Math.trunc(i)>=0?Math.trunc(i):0]})})},z=function(e){var n=e.playerQueue.filter((function(n,t){return e.playerQueue.indexOf(n)===t})),t=Object(L.a)(S),a=Object(y.a)(t,1)[0],r=Object(L.a)(w),i=(Object(y.a)(r,1)[0],Object(b.useState)(null!==e.nominatedPlayer?e.nominatedPlayer.currentPrice+1:2)),l=Object(y.a)(i,2),o=l[0],c=l[1],s=Object(b.useState)(!0),d=Object(y.a)(s,2),u=d[0],j=(d[1],M(e.manager.players.length,e.manager.salary)),p=null!==e.nominatedPlayer?e.nominatedPlayer.currentPrice+1:1,m=null!==e.nominatedPlayer?e.teams.find((function(n){return n.id===e.nominatedPlayer.bidder})):null,f=function(){var n=Object(T.a)(k.a.mark((function n(t){var r,i,l;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r={bidder:t.id,playerId:e.nominatedPlayer.player.id,currentPrice:Number(p)},i=e.teams.find((function(e){return e.id===t.id})),l=M(i.players.length,i.salary),I(e.nominatedPlayer,r,l)&&a({variables:r});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=function(){var n=Object(T.a)(k.a.mark((function n(t){var r;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.preventDefault(),r={bidder:e.manager.id,playerId:e.nominatedPlayer.player.id,currentPrice:Number(o)},I(e.nominatedPlayer,r,j)?a({variables:r}):console.log("Virheilmoitus");case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(R.jsxs)("div",{className:null===e.turn?B.a.SelfInfoOrange:e.manager.id===e.turn.id&null===e.nominatedPlayer?B.a.SelfInfoGreen:null===e.nominatedPlayer?B.a.SelfInfoOrange:e.nominatedPlayer.bidder===e.manager.id?B.a.SelfInfoGreen:B.a.SelfInfoRed,children:["Erik"===e.manager.owner&&Object(R.jsx)("button",{onClick:function(){return e.start()},children:"start"}),Object(R.jsx)("button",{onClick:function(){return e.logOut()},children:"Sign out"}),Object(R.jsxs)("div",{className:B.a.TimerSection,children:[null!==e.nominatedPlayer&&Object(R.jsx)("h3",{className:B.a.Mini,children:"Time left:"}),Object(R.jsx)(W,{playerQueue:n,nominatedPlayer:e.nominatedPlayer,turn:e.turn,"l\xe4hetys":e.l\u00e4hetys,xfinalizeSaleButton:u}),null!==e.nominatedPlayer&&Object(R.jsxs)("div",{children:[Object(R.jsx)("h4",{className:B.a.Mini,children:"Nominated by"}),Object(R.jsx)("h4",{className:B.a.MiniUp,children:e.turn.owner})]})]}),null!==e.nominatedPlayer&&Object(R.jsxs)("div",{children:[Object(R.jsx)("h4",{className:B.a.Mini,children:"Current bid:"}),Object(R.jsx)("h3",{className:B.a.TimerWithMargins,children:Object(R.jsxs)("strong",{children:["$",e.nominatedPlayer.currentPrice]})}),Object(R.jsxs)("div",{className:B.a.LittlePadding,children:["Quick bid ",Object(R.jsxs)("button",{disabled:!0!==A(e.nominatedPlayer,e.manager),onClick:function(){return f(e.manager)},children:["$",p]}),Object(R.jsx)("form",{onSubmit:h,children:Object(R.jsxs)("div",{children:["Bid ",Object(R.jsx)("input",{style:{width:"30px"},onChange:function(e){var n=e.target;return c(n.value)}}),Object(R.jsx)("button",{disabled:!0!==A(e.nominatedPlayer,e.manager),type:"submit",children:"bid"})]})})]}),Object(R.jsx)("h4",{className:B.a.Mini,children:"Highest bid:"}),Object(R.jsx)("h4",{className:B.a.MiniUp,children:m.owner})]}),null!==e.nominatedPlayer&&Object(R.jsxs)("div",{className:B.a.TimerSection,children:[Object(R.jsxs)("h2",{className:B.a.MiniDown,children:["Player: ",e.nominatedPlayer.player.playerName," ,  ",e.nominatedPlayer.player.nflTeam]}),Object(R.jsxs)("h4",{className:B.a.NoMarginOrPadding,children:["Position: ",e.nominatedPlayer.player.position," Injury: ",null!==e.nominatedPlayer.player.injury?Object(R.jsx)("strong",{className:B.a.Injured,children:e.nominatedPlayer.player.injury}):"none"]}),Object(R.jsxs)("h4",{className:B.a.NoMarginOrPadding,children:["Avg price: ",e.nominatedPlayer.player.expectedValue]}),Object(R.jsxs)("h4",{className:B.a.NoMarginOrPadding,children:["Bye Week: ",e.nominatedPlayer.player.bye]})]})]})},E=function(e){return Object(R.jsx)("tr",{children:Object(R.jsxs)("td",{className:B.a.Player,children:[e.player.playerName,null!==e.player.injury?e.player.injury:null,", ",e.player.nflTeam,", bye ",e.player.bye,", price: ",e.player.price]})})},Y=function(e){var n=M(e.team.players.length,e.team.salary);return Object(R.jsxs)("div",{className:B.a.TeamInfoStyle,children:[Object(R.jsxs)("h3",{className:B.a.MiniDown,children:["Owner: ",e.team.owner]}),Object(R.jsxs)("h4",{className:B.a.MiniUp,children:["Roster size: ",n.maxRosterSize-n.seatsLeft,"/19 Money left: ",n.moneyLeft," ",Object(R.jsx)("br",{}),"Avg Price: ",n.avgPrice," Max Bid: ",n.maxBid]}),Object(R.jsx)("table",{children:Object(R.jsxs)("tbody",{children:[Object(R.jsx)("tr",{children:Object(R.jsx)("td",{children:"QB(min 1):"})}),e.team.players.filter((function(e){return"QB"===e.position})).map((function(e){return Object(R.jsx)(E,{player:e},e.id)})),Object(R.jsx)("tr",{children:Object(R.jsx)("td",{children:"RB(min 2):"})}),e.team.players.filter((function(e){return"RB"===e.position})).map((function(e){return Object(R.jsx)(E,{player:e},e.id)})),Object(R.jsx)("tr",{children:Object(R.jsx)("td",{children:"WR(min 2):"})}),e.team.players.filter((function(e){return"WR"===e.position})).map((function(e){return Object(R.jsx)(E,{player:e},e.id)})),Object(R.jsx)("tr",{children:Object(R.jsx)("td",{children:"TE(min 1):"})}),e.team.players.filter((function(e){return"TE"===e.position})).map((function(e){return Object(R.jsx)(E,{player:e},e.id)})),Object(R.jsx)("tr",{children:Object(R.jsx)("td",{children:"K(min 1):"})}),e.team.players.filter((function(e){return"K"===e.position})).map((function(e){return Object(R.jsx)(E,{player:e},e.id)})),Object(R.jsx)("tr",{children:Object(R.jsx)("td",{children:"D(min 1):"})}),e.team.players.filter((function(e){return"D"===e.position})).map((function(e){return Object(R.jsx)(E,{player:e},e.id)})),Object(R.jsx)("tr",{children:Object(R.jsx)("td",{children:"IDP(min 4):"})}),e.team.players.filter((function(e){return"IDP"===e.position})).map((function(e){return Object(R.jsx)(E,{player:e},e.id)}))]})})]})},K=function(e){var n=Object(b.useState)(e.manager),t=Object(y.a)(n,2),a=t[0],r=t[1],i=window.innerHeight,l={height:.75*i,width:"30%",overflowY:"scroll",backgroundColor:"maroon",paddingTop:.2*i+1,paddingBottom:"1%"},o={height:.75*i,width:"100%",overflowY:"scroll",backgroundColor:"maroon",paddingTop:1,paddingBottom:"1%"};return Object(R.jsxs)("div",{style:!0===e.mobile?o:l,children:[e.teams.slice(0,4).map((function(e){return Object(R.jsxs)("button",{className:B.a.Button25,onClick:function(){r(e)},children:[e.owner," ",e.players.length,"/19"]},e.id)}))," ",Object(R.jsx)("br",{}),e.teams.slice(4,8).map((function(e){return Object(R.jsxs)("button",{className:B.a.Button25,onClick:function(){r(e)},children:[e.owner," ",e.players.length,"/19"]},e.id)})),Object(R.jsx)("br",{}),e.teams.slice(8,12).map((function(e){return Object(R.jsxs)("button",{className:B.a.Button25,onClick:function(){r(e)},children:[e.owner," ",e.players.length,"/19"]},e.id)})),Object(R.jsx)("br",{}),e.teams.slice(12).map((function(e){return Object(R.jsxs)("button",{className:B.a.Button25,onClick:function(){r(e)},children:[e.owner," ",e.players.length,"/19"]},e.id)})),Object(R.jsx)(Y,{team:a},a.id)]})},q=function(e){var n=Object(b.useState)("players"),t=Object(y.a)(n,2),a=t[0],r=t[1],i=function(e){r(e)},l=window.innerHeight,o={width:"100%",height:l,position:"relative",backgroundColor:"maroon"},c={height:.2*l,width:"100%",overflowY:"scroll",position:"fixed",top:0,left:0,zIndex:999},s={width:"100%",overflowY:"scroll",position:"fixed",marginTop:.18*l,zIndex:950,backgroundColor:"goldenRod",paddingTop:"1%"},d={width:"33%",padding:"none",margin:"none",height:.05*l,backgroundColor:"maroon",border:"goldenRod 2px solid",color:"gold",textShadow:"-1px 0 black, 0 1px black, 1px 0 black, 0 -1px black"},u={width:"33%",padding:"none",margin:"none",height:.05*l,backgroundColor:"goldenRod",border:"maroon 2px solid",color:"black"},j={height:.75*l,width:"100%",overflowY:"scroll",position:"absolute",marginTop:.25*l};return Object(R.jsxs)("div",{style:o,children:[Object(R.jsx)("div",{style:c,children:Object(R.jsx)(z,{logOut:e.logOut,nominatedPlayer:e.nominatedPlayer,playerQueue:e.playerQueue,autoPick:e.availablePlayers[0],turn:e.turn,callBackRemove:e.callBackRemove,teams:e.teams,manager:e.manager,start:e.start,"l\xe4hetys":e.l\u00e4hetys})}),Object(R.jsxs)("div",{style:s,children:[Object(R.jsx)("button",{style:"players"!==a?d:u,onClick:function(){return i("players")},children:"Players"}),Object(R.jsx)("button",{style:"queue"!==a?d:u,onClick:function(){return i("queue")},children:"Queue"}),Object(R.jsx)("button",{style:"teams"!==a?d:u,onClick:function(){return i("teams")},children:"Teams"})]}),Object(R.jsx)("div",{style:j,children:"players"===a?Object(R.jsx)(G,{mobile:!0,availablePlayers:e.availablePlayers,addPlayer:e.addPlayer,nominate:e.nominate,validateManagerCanNominate:e.validateManagerCanNominate}):"queue"===a?Object(R.jsx)(Q,{mobile:!0,start:e.start,nominatedPlayer:e.nominatedPlayer,turn:e.turn,player:e.availablePlayers[0],nominate:e.nominate,manager:e.manager,playerQueue:e.playerQueue,callBackRemove:e.callBackRemove,xfinalizeSaleButton:e.xfinalizeSaleButton,teams:e.teams}):Object(R.jsx)(K,{teams:e.teams,manager:e.manager,mobile:!0})})]})},H=function(e){var n=Object(b.useState)([]),t=Object(y.a)(n,2),a=t[0],r=t[1],i=e.data.currentBid,l=null===e.data.lastProposer?null:e.data.allTeams.find((function(n){return n.place===e.data.lastProposer.proposer})),o=e.data.allTeams.find((function(n){return n.owner===e.manager})),c=Object(L.a)(v),s=Object(y.a)(c,1)[0],d=Object(L.a)(S),u=Object(y.a)(d,1)[0],j=Object(b.useState)(!0),p=Object(y.a)(j,2),m=p[0],f=p[1],h=function(e){f(e)},O=function(){var e=Object(T.a)(k.a.mark((function e(n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(!0===n||window.confirm("Eth\xe4n painanut vahingossa?"))&&s();case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=$(i,o,l),g=function(e){r([].concat(Object(_.a)(a),[e]))},P=function(e){var n={bidder:l.id,playerId:e.id,price:1};u({variables:n})},w=e.data.allSoldPlayers.map((function(e){return e.oldId})),N=e.data.allPlayers.filter((function(e){return!w.includes(e.id)}));N.sort((function(e,n){return e.rank-n.rank}));var C=function(e){var n=a.filter((function(n){return n.id!==e}));r(n)},M={height:.2*window.innerHeight,width:"100%",overflowY:"scroll",position:"fixed"};return a.forEach((function(e){return w.includes(e.id)?C(e.id):console.log("")})),e.mobileView?Object(R.jsx)(q,{logOut:e.logOut,nominatedPlayer:i,playerQueue:a,autoPick:N[0],turn:l,callBackRemove:C,teams:e.data.allTeams,manager:o,start:O,"l\xe4hetys":h,availablePlayers:N,addPlayer:g,nominate:P,validateManagerCanNominate:x,player:N[0],xfinalizeSaleButton:m}):Object(R.jsxs)("div",{className:"App",children:[Object(R.jsx)("div",{style:M,children:Object(R.jsx)(z,{logOut:e.logOut,nominatedPlayer:i,playerQueue:a,autoPick:N[0],turn:l,callBackRemove:C,teams:e.data.allTeams,manager:o,start:O,"l\xe4hetys":h})}),Object(R.jsxs)("div",{className:B.a.FlexiContent,children:[Object(R.jsx)(G,{availablePlayers:N,addPlayer:g,nominate:P,validateManagerCanNominate:x}),Object(R.jsx)(Q,{start:O,nominatedPlayer:i,turn:l,player:N[0],nominate:P,manager:o,playerQueue:a,callBackRemove:C,xfinalizeSaleButton:m,teams:e.data.allTeams}),Object(R.jsx)(K,{teams:e.data.allTeams,manager:o})]})]})},F=function(e){var n=Object(h.a)(P,{pollInterval:1e3}),t=n.data,a=n.error;return n.loading?Object(R.jsx)("div",{children:"loading..."}):(a&&console.log(a),Object(R.jsx)(H,{data:t,manager:e.manager,logOut:e.logOut,mobileView:e.mobileView}))},U=function(e){var n=Object(b.useState)(""),t=Object(y.a)(n,2),a=t[0],r=t[1],i=Object(b.useState)(""),l=Object(y.a)(i,2),o=l[0],c=l[1],s=Object(L.a)(g),d=Object(y.a)(s,2),u=d[0],j=d[1],p=Object(b.useState)(!1),m=Object(y.a)(p,2),f=m[0],h=m[1];Object(b.useEffect)((function(){if(j.data){var n=j.data.login.value;e.setToken(n),e.setOwner(a),e.setMobileView(f),localStorage.setItem("manager-token",n),localStorage.setItem("owner",a),localStorage.setItem("mobile",f)}}),[j.data]);var O=function(){var e=Object(T.a)(k.a.mark((function e(n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),u({variables:{owner:a,password:o}});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(R.jsx)("div",{children:Object(R.jsxs)("form",{onSubmit:O,children:[Object(R.jsxs)("div",{children:["manager ",Object(R.jsx)("input",{value:a,onChange:function(e){var n=e.target;return r(n.value)}})]}),Object(R.jsxs)("div",{children:["password ",Object(R.jsx)("input",{value:o,onChange:function(e){var n=e.target;return c(n.value)}})]}),Object(R.jsxs)("div",{children:["mobile ",Object(R.jsx)("input",{type:"checkbox",onClick:function(){return h(!f)}})]}),Object(R.jsx)("button",{type:"submit",children:"login"})]})})},J=function(){var e=Object(b.useState)(null),n=Object(y.a)(e,2),t=n[0],a=n[1],r=Object(b.useState)(null),i=Object(y.a)(r,2),l=i[0],o=i[1],c=Object(b.useState)(!1),s=Object(y.a)(c,2),d=s[0],u=s[1],j=Object(f.a)();if(Object(b.useEffect)((function(){var e=localStorage.getItem("manager-token"),n=localStorage.getItem("owner"),t=localStorage.getItem("mobile");e&&a(e),n&&o(n),!0===t&&u(t)}),[]),!t|!l)return Object(R.jsx)(U,{setToken:a,setOwner:o,setMobileView:u});return Object(R.jsx)(F,{manager:l,logOut:function(){a(null),o(null),localStorage.clear(),j.resetStore()},mobileView:d})},X=t(64),Z=t(66),ee=t(65),ne=t(62),te=new X.a({cache:new Z.a,link:new ee.a({uri:"http://localhost:4000"})});m.a.render(Object(R.jsx)(ne.a,{client:te,children:Object(R.jsx)(J,{})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.b22deb89.chunk.js.map