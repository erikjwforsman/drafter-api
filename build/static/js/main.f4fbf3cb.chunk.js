(this.webpackJsonpdrafter_app=this.webpackJsonpdrafter_app||[]).push([[0],{3:function(e,n,t){e.exports={App:"AppStyles_App__1aSED",Flexi:"AppStyles_Flexi__3Vfdt",FlexiContent:"AppStyles_FlexiContent__ZgYCP",Top:"AppStyles_Top__MS2gt",SmallScreenLeft:"AppStyles_SmallScreenLeft__2WQzj",SmallScreen:"AppStyles_SmallScreen__3KQ5v",BigScreen:"AppStyles_BigScreen__2Ovgn",MobileTop:"AppStyles_MobileTop__3YCd8",MobileView:"AppStyles_MobileView__380PS",Mini:"AppStyles_Mini__1xnVW",MiniQueue:"AppStyles_MiniQueue__3WVNk",MiniDown:"AppStyles_MiniDown__1obLw",MiniUp:"AppStyles_MiniUp__2xW6g",NoMargin:"AppStyles_NoMargin__2S3q0",SelfInfoRed:"AppStyles_SelfInfoRed__1IGTb",SelfInfoOrange:"AppStyles_SelfInfoOrange__dDHRj",SelfInfoGreen:"AppStyles_SelfInfoGreen__3Clhg",TimerSection:"AppStyles_TimerSection__r8WnA",Timer:"AppStyles_Timer__NwwKb",TimerWithMargins:"AppStyles_TimerWithMargins__3X5f3",LittlePadding:"AppStyles_LittlePadding__2m1Kg",BackGroundGold:"AppStyles_BackGroundGold__2fWqM",NoBorder:"AppStyles_NoBorder__Yi3x6",TablePlayers:"AppStyles_TablePlayers__2saOQ",TablePlayers_td:"AppStyles_TablePlayers_td__1R_bw",TeamInfoStyle:"AppStyles_TeamInfoStyle__23c2H",Player:"AppStyles_Player__2J2wn",Button25:"AppStyles_Button25__1CwIr",GoldText:"AppStyles_GoldText__3Hr9_",PaddingLeft:"AppStyles_PaddingLeft__3KtBQ",NoMarginOrPadding:"AppStyles_NoMarginOrPadding__1-LBZ",Injured:"AppStyles_Injured__jyOXt"}},60:function(e,n,t){"use strict";t.r(n);var a,r,l,o,i,c,p,s,d,u,b=t(41),_=t(4),y=t(46),S=t.n(y),g=t(5),j=t(69),m=t(75),O=t(17),f=t(71),w=Object(f.a)(a||(a=Object(O.a)(["\n    mutation login($owner: String, $password: String) {\n        login(owner: $owner, password:$password) {\n            value\n        }\n    }\n"]))),$=(Object(f.a)(r||(r=Object(O.a)(["\n    query{\n        allTeams{\n            owner\n            id\n            players{\n                playerName\n                nflTeam\n                position\n                price\n                bye\n                id\n            }\n        }\n    }\n"]))),Object(f.a)(l||(l=Object(O.a)(["\n    query{\n        allPlayers{\n            playerName\n            nflTeam\n            rank\n            expectedValue\n            position\n            bye\n            injury\n            id\n        }\n    }\n"]))),Object(f.a)(o||(o=Object(O.a)(["\n    query{\n        allPlayers{\n            playerName\n            nflTeam\n            rank\n            expectedValue\n            position\n            bye\n            injury\n            id\n        }\n        allSoldPlayers{\n            playerName\n            nflTeam\n            position\n            price\n            id\n            oldId\n        }\n        allTeams{\n            owner\n            id\n            place\n            salary\n            players{\n                playerName\n                nflTeam\n                position\n                price\n                bye\n                id\n            }\n        }\n        lastProposer{\n            proposer\n        }\n        currentBid{\n            bidder\n            currentPrice\n            timeLeft\n            player{\n                playerName\n                nflTeam\n                rank\n                expectedValue\n                position\n                bye\n                id\n                injury\n            }\n        }\n\n    }\n"])))),A=(Object(f.a)(i||(i=Object(O.a)(["\n    mutation addTeam($owner:String!, $place: Int){\n        addTeam(owner:$owner, place:$place){\n            owner\n        }\n    }\n"]))),Object(f.a)(c||(c=Object(O.a)(["\n    mutation changeProposer{\n        changeProposer{\n            proposer\n        }\n    }\n"]))),Object(f.a)(p||(p=Object(O.a)(["\n    mutation nullProposer{\n        nullProposer{\n            true\n        }\n    }\n"]))),Object(f.a)(s||(s=Object(O.a)(["\n    mutation changeBid($bidder: String!, $playerId: String!, $currentPrice:Int, $timeLeft:String){\n        changeBid(bidder:$bidder, playerId:$playerId, currentPrice:$currentPrice, timeLeft: $timeLeft){\n            currentPrice\n        }\n    }\n"]))),Object(f.a)(d||(d=Object(O.a)(["\n    mutation sellPlayer($owner:String!, $playerName:String!, $nflTeam:String!, $position:String!, $price:Int!, $oldId:String!, $bye:Int!){\n        addSoldPlayer(owner: $owner, playerName: $playerName, nflTeam:$nflTeam, position:$position, price:$price, oldId:$oldId, bye:$bye){\n            playerName\n        }\n    }\n"]))),Object(f.a)(u||(u=Object(O.a)(["\n    mutation addPlayer($playerName: String!, $nflTeam: String!, $rank: Int!, $expectedValue: Int!, $position: String!, $bye: Int!){\n        addPlayer(playerName:$playerName, nflTeam:$nflTeam, rank:$rank, expectedValue:$expectedValue, position:$position, bye:$bye){\n            playerName\n        }\n    }\n"]))),t(49),t(11)),T=t.n(A),x=t(16),I=(t(3),t(76)),h=t(0),v=function(e){return console.log(e),Object(h.jsx)("div",{children:"This is SubApp"})},P=function(e){var n=Object(m.a)($),t=n.data,a=n.error;return n.loading?Object(h.jsx)("div",{children:"loading..."}):(a&&console.log(a),Object(h.jsx)(v,{data:t,manager:e.manager,logOut:e.logOut,mobileView:e.mobileView}))},M=function(e){var n=Object(_.useState)(""),t=Object(g.a)(n,2),a=t[0],r=t[1],l=Object(_.useState)(""),o=Object(g.a)(l,2),i=o[0],c=o[1],p=Object(I.a)(w),s=Object(g.a)(p,2),d=s[0],u=s[1],b=Object(_.useState)(!1),y=Object(g.a)(b,2),S=y[0],j=y[1];console.log("owner",a),Object(_.useEffect)((function(){if(console.log("eseE Login t\xe4ss\xe4"),e.logOut(),u.data){var n=u.data.login.value;console.log(n);var t=a,r=S;e.setToken(n),e.setOwner(t),e.setMobileView(r),localStorage.setItem("manager-token",n),localStorage.setItem("owner",t),localStorage.setItem("mobile",S)}}),[u.data]);var m=function(){var e=Object(x.a)(T.a.mark((function e(n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,d({variables:{owner:a,password:i}});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{onSubmit:m,children:[Object(h.jsxs)("div",{children:["manager ",Object(h.jsx)("input",{value:a,onChange:function(e){var n=e.target;return r(n.value)}})]}),Object(h.jsxs)("div",{children:["password ",Object(h.jsx)("input",{value:i,onChange:function(e){var n=e.target;return c(n.value)}})]}),Object(h.jsxs)("div",{children:["mobile ",Object(h.jsx)("input",{type:"checkbox",onClick:function(){return j(!S)}})]}),Object(h.jsx)("button",{type:"submit",children:"login"})]})})},N=function(){var e=Object(_.useState)(null),n=Object(g.a)(e,2),t=n[0],a=n[1],r=Object(_.useState)(""),l=Object(g.a)(r,2),o=l[0],i=l[1],c=Object(_.useState)(!1),p=Object(g.a)(c,2),s=p[0],d=p[1],u=Object(j.a)();console.log("Aloitetaan"),Object(_.useEffect)((function(){console.log("eseE App t\xe4ss\xe4");var e=localStorage.getItem("manager-token"),n=localStorage.getItem("owner"),t=localStorage.getItem("mobile");e&&a(e),n&&i(n),!0===t&&d(t)}),[]);var b=function(){a(null),i(null),localStorage.clear(),u.resetStore()};return!t|!o?Object(h.jsx)(M,{setToken:a,setOwner:i,setMobileView:d,logOut:b}):Object(h.jsx)(P,{manager:o,logOut:b,mobileView:s})},k=t(73),V=t(72),B=t(74),L=t(70),C=t(48);console.log("Index");var G=Object(C.a)((function(e,n){var t=n.headers,a=localStorage.getItem("manager-token");return{headers:Object(b.a)(Object(b.a)({},t),{},{authorization:a?"bearer ".concat(a):null})}})),W=new k.a({uri:"http://localhost:4000/"}),E=new V.a({cache:new B.a,link:G.concat(W)});S.a.render(Object(h.jsx)(L.a,{client:E,children:Object(h.jsx)(N,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.f4fbf3cb.chunk.js.map